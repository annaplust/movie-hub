import"./chunk-BYXBJQAS.js";import{A as T,s as g,u as x,x as I,z as M}from"./chunk-J5LE5QTC.js";import{Cb as R,Ka as l,Kb as r,Lb as y,Ma as a,O as m,U as n,Wa as u,Wb as C,ab as f,hb as s,mb as h,oa as p,pb as d,qb as _,rb as c,sb as v,tb as S}from"./chunk-NM4URTZ5.js";var o=class t{searchPhase=p("");multiSearchResource=g(()=>`${T.api.url}/search/multi?query=${this.searchPhase()}`,{defaultValue:[],parse:i=>i.results.map(e=>({imageUrl:e.media_type==="movie"||e.media_type==="tv"?e.poster_path?`https://image.tmdb.org/t/p/w300${e.poster_path}`:null:e.media_type==="person"&&e.profile_path?`https://image.tmdb.org/t/p/w300${e.profile_path}`:null,name:"title"in e?e.title:e.name,link:e.media_type==="movie"?`/movie/${e.id}`:e.media_type==="tv"?`/tv/${e.id}`:`/person/${e.id}`}))});static \u0275fac=function(e){return new(e||t)};static \u0275prov=m({token:t,factory:t.\u0275fac,providedIn:"root"})};var k=t=>[t],w=(t,i)=>i.imageUrl;function O(t,i){t&1&&r(0,` loading...
`)}function E(t,i){if(t&1&&(c(0,"a",0),S(1,"img",1),c(2,"p"),r(3),v()()),t&2){let e=i.$implicit;s("routerLink",C(3,k,e.link)),a(),s("src",e.imageUrl,l),a(2),y(e.name)}}function F(t,i){t&1&&r(0," No results ")}function V(t,i){if(t&1&&d(0,E,4,5,"a",0,w,!1,F,1,0),t&2){let e=R();_(e.multiSearchResource.value())}}var P=class t{searchService=n(o);route=n(x);multiSearchResource=this.searchService.multiSearchResource;ngOnInit(){this.route.params.subscribe(i=>{this.searchService.searchPhase.set(i.phrase)})}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=u({type:t,selectors:[["app-search-results"]],decls:2,vars:1,consts:[[3,"routerLink"],[3,"src"]],template:function(e,$){e&1&&f(0,O,1,0)(1,V,3,1),e&2&&h($.multiSearchResource.isLoading()?0:1)},dependencies:[M,I],encapsulation:2})};export{P as SearchResultsComponent};
